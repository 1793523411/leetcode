# è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²

```
è¯·å®žçŽ°ä¸€ä¸ªå‡½æ•°ç”¨æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦è¡¨ç¤ºæ•°å€¼ï¼ˆåŒ…æ‹¬æ•´æ•°å’Œå°æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²"+100"ã€"5e2"ã€"-123"ã€"3.1416"ã€"-1E-16"ã€"0123"éƒ½è¡¨ç¤ºæ•°å€¼ï¼Œä½†"12e"ã€"1a3.14"ã€"1.2.3"ã€"+-5"åŠ"12e+5.4"éƒ½ä¸æ˜¯ã€‚
```

## è°ƒç”¨ js API

```js
var isNumber = function(s) {
    return s.replace(/\s/g, '') !== '' && !isNaN(Number(s))
};
```

## æ­£å¸¸è§£æ³•ðŸ˜¥ðŸ˜¥

```js
const isNumber = (s) => {
  let cursor = 0; // æ‰«æå­—ç¬¦çš„å…‰æ ‡
  let isValid;    // æ ‡è¯†å˜é‡ï¼Œå½“å‰æ‰«ææ—¶æ˜¯å¦æœ‰æ•ˆ

  const scanSignedInteger = (s) => { // æ‰«ææœ‰ç¬¦å·æ•´æ•°çš„å­—ç¬¦
    if (s[cursor] === '+' || s[cursor] === '-') { // é‡åˆ°+-ï¼ŒæŒ‡é’ˆåŽç§»
      cursor++;
    }
    return scanUnsignedInteger(s); // è€ƒå¯Ÿæ— ç¬¦å·æ•°å­—éƒ¨åˆ†
  };

  const scanUnsignedInteger = (s) => { // æ‰«ææ— ç¬¦å·æ•´æ•°éƒ¨åˆ†çš„å­—ç¬¦
    const temp = cursor;  // ä¸´æ—¶ä¿å­˜å½“å‰æŒ‡é’ˆä½ç½®
    while (s[cursor] >= '0' && s[cursor] <= '9') { // é‡åˆ°0-9æ•°å­—å°±æŒ‡é’ˆåŽç§»
      cursor++;                                    // å‡½æ•°ç»“æŸæ—¶ï¼ŒæŒ‡é’ˆå·²æ‰«å®Œè¿žç»­æ•°å­—éƒ¨åˆ†
    }
    return s[temp] >= '0' && s[temp] <= '9'; // åˆ¤æ–­å½“å‰æŒ‡é’ˆæ˜¯å¦æŒ‡å‘æ•°å­—0-9
  };

  while (s[cursor] === ' ') { // è·³è¿‡å¼€å¤´çš„ç©ºæ ¼å­—ç¬¦
    cursor++;
  }

  isValid = scanSignedInteger(s); // å…ˆæ‰«ææ•´æ•°éƒ¨åˆ†

  if (s[cursor] === '.') { // æ­¤æ—¶æ‰«å®Œæ•´æ•°éƒ¨åˆ†ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰é‡åˆ°å°æ•°ç‚¹
    cursor++;                     // æŒ‡é’ˆè·³è¿‡å°æ•°ç‚¹
    if (scanUnsignedInteger(s)) { // æ‰«æå°æ•°éƒ¨åˆ†çš„æ•´æ•°
      isValid = true;                // å¦‚æžœè¿”å›žtrueï¼Œè¯´æ˜Žæš‚æ—¶æ˜¯æœ‰æ•ˆçš„æ•°å­—
    }
    // å¦‚æžœè¿”å›žfalseï¼Œè¿˜ä¸èƒ½è¯´æ˜Žæ˜¯é”™çš„ï¼Œå› ä¸ºæœ‰ '3.' è¿™ç§case
  }

  if (s[cursor] === 'e' || s[cursor] === 'E') { // çœ‹çœ‹æœ‰æ²¡æœ‰é‡åˆ°e/E
    cursor++;                    // æŒ‡é’ˆè·³è¿‡E/e
    if (isValid) {               // E/eå‰é¢ä¸€å®šè¦æ˜¯æœ‰æ•ˆæ•´æ•°
      isValid = scanSignedInteger(s);  // E/eåŽé¢å¯ä»¥æ˜¯æœ‰ç¬¦å·æ•´æ•° æ¯”å¦‚ 1e-9
    }
  }

  while (s[cursor] === ' ') { // è·³è¿‡ç»“å°¾çš„ç©ºæ ¼å­—ç¬¦
    cursor++;
  }

  if (s[cursor] !== undefined) { // æ­¤æ—¶æŒ‡é’ˆè¯¥è¶Šç•Œäº†ï¼Œæˆ‘ä»¬å¸Œæœ›å®ƒæ˜¯undefined
    return false;     // å¦‚æžœä¸æ˜¯ï¼Œé‚£å°±false æ¯”å¦‚ '3..' '3 8'ï¼Œä¸€ä¸ªæ˜¯.ä¸€ä¸ªæ˜¯8
  }
  return isValid;
};
```